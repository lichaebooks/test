<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <title>오컬트 & 판타지 몬스터 백과</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <!-- 폰트 -->
  <link
    href="https://fonts.googleapis.com/css2?family=Noto+Serif+KR:wght@400;600&family=Cormorant+Garamond:wght@500;600&display=swap"
    rel="stylesheet"
  />

  <style>
    * { box-sizing: border-box; }
    html { scroll-behavior: smooth; }

    body {
      margin: 0;
      font-family: "Noto Serif KR", serif;
      color: #f3efe7;
      background:
        radial-gradient(circle at 0 0, #123b45 0, transparent 45%),
        radial-gradient(circle at 100% 0, #123b45 0, transparent 45%),
        radial-gradient(circle at 50% 120%, #061219 0, #02070b 60%);
      user-select: none;
    }

    img { -webkit-user-drag: none; user-drag: none; }

    .page {
      max-width: 1200px;
      margin: 0 auto;
      padding: 24px 24px 56px;
    }

    /* 상단 영역 -------------------------------------------------- */
    .topbar {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding-bottom: 10px;
    }

    .brand {
      font-family: "Cormorant Garamond", "Noto Serif KR", serif;
      font-size: 24px;
      letter-spacing: 0.12em;
      text-transform: uppercase;
      color: #f7f2e9;
      cursor: pointer;
    }

    .brand span {
      display: block;
      font-family: "Noto Serif KR", serif;
      font-size: 11px;
      letter-spacing: 0.16em;
      margin-top: 3px;
      color: #b9c6c7;
    }

    .topbar nav {
      display: flex;
      align-items: center;
    }

    .topbar nav a,
    .topbar nav button {
      margin-left: 20px;
      font-size: 13px;
      color: #c5d5d8;
      text-decoration: none;
      text-transform: uppercase;
      letter-spacing: 0.16em;
      background: none;
      border: none;
      padding: 0;
      cursor: pointer;
      font-family: "Noto Serif KR", serif;
    }

  

    .top-divider {
      height: 1px;
      margin: 6px 0 26px;
      background:
        linear-gradient(90deg, transparent, #d8b26a, transparent),
        linear-gradient(90deg, transparent, #8fd1d5, transparent);
      opacity: 0.8;
    }



.nav-link {
  position: relative;
  color: rgba(255,255,255,0.75);
  font-variant: small-caps;
  letter-spacing: 0.06em;
  transition: color 0.4s ease, text-shadow 0.35s ease;
}

.nav-link::before {
  content: "†";
  position: absolute;
  left: -14px;
  top: 50%;
  transform: translateY(-50%);
  opacity: 0.18;
  color: #ff4c4c;
  font-size: 0.75em;
  transition: opacity 0.25s ease;
}

.nav-link:hover {
  color: #ff4c4c;
  text-shadow:
    0 0 0.5px rgba(255,76,76,0.5),
    0 0 1.5px rgba(0,0,0,0.4);
}

.nav-link:hover::before {
  opacity: 1;
}

.nav-link.active {
  color: #ff4c4c;
}

.nav-link.active::before {
  opacity: 1;
}





   

.site-footer {
  margin-top: 80px;
  padding: 24px 0;
  font-size: 11px;
  color: rgba(255,255,255,0.4);
  text-align: center;
}


    /* 섹션 제목 -------------------------------------------------- */
    .section-title {
      margin: 40px 0 12px;
      font-size: 20px;
      letter-spacing: 0.12em;
      text-transform: uppercase;
      color: #f3efe7;
    position: relative;
  padding-bottom: 8px;
}

.section-title::after {
  content: "";
  position: absolute;
  left: 0;
  bottom: 0;
  width: 160px;
  height: 1px;
  background: linear-gradient(
    90deg,
    rgba(216,178,106,0),
    rgba(216,178,106,0.7),
    rgba(216,178,106,0)
  );
  box-shadow: 0 0 8px rgba(216,178,106,0.4);
}

    .section-sub {
      font-size: 13px;
      color: #c2d3d4;
      margin-bottom: 18px;
    }

    /* 카드 그리드 -------------------------------------------------- */
    .monster-controls {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      margin-bottom: 16px;
    }

    .filter-pill {
      padding: 6px 14px;
      border-radius: 999px;
      border: 1px solid rgba(143, 209, 213, 0.5);
      background: rgba(3, 20, 24, 0.7);
      color: #cbe4e7;
      font-size: 11px;
      cursor: pointer;
    }

    .filter-pill.active {
      border-color: rgba(227, 90, 90, 0.9);
      background: radial-gradient(
        circle at 30% 0,
        rgba(227, 90, 90, 0.7),
        rgba(3, 10, 16, 0.96)
      );
      color: #fff;
    }

    .cards-container {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
      gap: 24px;
      margin-top: 10px;
    }

    .card {
      position: relative;
      padding: 16px 16px 14px;
      border-radius: 18px;
       background:
        radial-gradient(
          circle at 0 0,
          rgba(143, 209, 213, 0.12),
          transparent 60%
        ),
radial-gradient(
          circle at 100% 100%,
          rgba(227, 90, 90, 0.16),
          transparent 55%
        ),
 rgba(3, 16, 22, 0.95);
      border: 1px solid rgba(44, 92, 100, 0.95);
      box-shadow: 0 12px 26px rgba(0, 0, 0, 0.55);
      cursor: pointer;
      overflow: hidden;
      transition: transform 0.15s ease,  box-shadow 0.15s ease,
        border-color 0.15s;

    }

   .card::before {
      content: "";
      position: absolute;
      inset: 8px;
      border-radius: 12px;
      border: 1px solid rgba(216, 178, 106, 0.35);
      opacity: 0.7;
      pointer-events: none;
    }





    .card:hover {
      transform: translateY(-6px);
      box-shadow: 0 18px 36px rgba(0, 0, 0, 0.7);
      border-color: rgba(227, 90, 90, 0.9);
    }

.card:nth-child(3n-1):hover { transform: translateY(-6px) rotate(-0.4deg); }
.card:nth-child(3n):hover   { transform: translateY(-6px) rotate(0.4deg); }



    .card-img {
position: relative;
      width: 100%;
      aspect-ratio: 8 / 13;
      object-fit: cover;
      border-radius: 12px;
      margin-bottom: 10px;
    }

    .card-type {
position: relative;
      font-size: 11px;
      text-transform: uppercase;
      letter-spacing: 0.18em;
      color: #8fd1d5;
      margin-bottom: 6px;
    }

    .card-name {
position: relative;
      font-size: 17px;
      margin-bottom: 4px;
      font-weight: 600;
    }

    .card-tagline {
position: relative;
      font-size: 12px;
      color: #d6e3e4;
      line-height: 1.6;
      margin-bottom: 10px;
    }

    .card-meta {
position: relative;
      display: flex;
      justify-content: flex-start;
align-items: center;
      font-size: 11px;
      color: #c3cfcf;
    }

    .card-tags {
      display: flex;
      gap: 6px;
      flex-wrap: wrap;
    }

    .card-tag {
      padding: 2px 8px;
      border-radius: 999px;
      background: rgba(5, 34, 40, 0.9);
      border: 1px solid rgba(143, 209, 213, 0.4);
      color: #9fdbe0;
    }

    /* info-section ------------------------------------------------ */
    .info-section {
      margin-top: 40px;
      padding: 22px 26px;
      border-radius: 22px;
      background: rgba(4, 18, 24, 0.9);
      border: 1px solid rgba(216, 178, 106, 0.4);
      box-shadow: 0 10px 26px rgba(0, 0, 0, 0.55);
      text-align: center;
 transition:
        transform 0.18s ease,
        box-shadow 0.18s ease,
        background 0.18s ease;

    }


 .info-section:hover {
      transform: translateY(-4px);
      box-shadow: 0 18px 38px rgba(0, 0, 0, 0.8);
      background: rgba(4, 22, 30, 0.96);
    }



    .info-title {
      font-size: 15px;
      font-weight: 600;
      color: #f4e1b3;
      margin-bottom: 8px;
      letter-spacing: 0.16em;
      text-transform: uppercase;
      text-shadow: 0 0 6px rgba(216,178,106,0.35);
    }

    .info-body {
      font-size: 13px;
      color: #d6e0e1;
      line-height: 1.9;
    }

.footer {
      text-align: center;
      margin-top: 40px;
      font-size: 12px;
      color: #789093;
    }




.latin-title {
  font-family: "Cinzel", serif;
  font-size: 1.6rem;
  font-weight: 600;
  letter-spacing: 1.5px;
  margin-top: 40px;
  margin-bottom: 15px;
  color: #d0bfae;
  text-shadow: 0 0 10px rgba(200, 180, 160, 0.2);
  border-left: 3px solid rgba(200, 180, 160, 0.4);
  padding-left: 12px;
}
.info-body p {
  line-height: 1.75;
  color: #e4e0da;
}





.desc-text {
  white-space: pre-line;
  line-height: 1.8;
  word-break: break-word;
  padding-right: 6px;
}
.desc-text br {
  content: "";
  display: block;
  margin-bottom: 12px;
}





    /* 모달 ------------------------------------------------------- */
    .modal {
      position: fixed;
      inset: 0;
      display: flex;
      justify-content: center;
      align-items: center;
      pointer-events: none;
      opacity: 0;
      transition: opacity 0.18s ease;
      z-index: 1000;
    }


 
/* 모달 배경에 움직이는 극미세 노이즈 추가 */
.modal::before {
  content: "";
  position: fixed;
  inset: 0;
  background:
    repeating-radial-gradient(
      circle at 20% 30%,
      rgba(216,178,106,0.015),
      rgba(216,178,106,0.015) 1px,
      transparent 2px,
      transparent 6px
    );
  animation: arcaneFlow 18s linear infinite;
  pointer-events: none;
  opacity: 0.35;
  z-index: 0;
}

@keyframes arcaneFlow {
  from { transform: translateY(0); }
  to   { transform: translateY(-120px); }
}




    .modal.show {
      pointer-events: auto;
      opacity: 1;
    }

    .modal-backdrop {
      position: absolute;
      inset: 0;
      background: rgba(0, 0, 0, 0.7);
    }

 .modal-panel {
  position: relative;
  background: #050c11;
  border-radius: 22px;
  padding: 20px 22px 22px;
  width: 90%;
  max-width: 820px;

  max-height: 90vh;        /* ★ 화면 높이 안으로 가두기 */
  overflow: hidden;        /* 패널 밖으로 내용 튀어나오지 않게 */

  box-shadow: 0 20px 40px rgba(0, 0, 0, 0.85);
  border: 1px solid rgba(216, 178, 106, 0.7);

  display: flex;
  flex-direction: column;
  gap: 10px;

  color: #f3efe7;

  background-image:
    radial-gradient(circle at 20% 20%, rgba(216,178,106,0.06), transparent 60%),
    radial-gradient(circle at 80% 70%, rgba(143,209,213,0.04), transparent 60%);
}





.modal-scroll-area {
  flex: 1;
  overflow-y: auto;      /* ★ 이 영역만 스크롤 */
  padding-right: 14px;
  min-height: 0;
}

/* 모달 전용 스크롤 디자인 */
.modal-scroll-area::-webkit-scrollbar {
  width: 6px;
}
.modal-scroll-area::-webkit-scrollbar-track {
  background: transparent;
}
.modal-scroll-area::-webkit-scrollbar-thumb {
  background: rgba(216,178,106,0.35);
  border-radius: 6px;
}
.modal-scroll-area::-webkit-scrollbar-thumb:hover {
  background: rgba(216,178,106,0.55);
}




    .modal-close {
      position: absolute;
      right: 14px;
      top: 8px;
      border: none;
      background: transparent;
      font-size: 22px;
      cursor: pointer;
      color: #a3b8ba;
    }



.modal-close:hover {
      color: #ffffff;
    }

    @media (max-width: 700px) {
      .page {
        padding: 18px 16px 40px;
      }
      .hero {
        padding: 24px 20px 22px;
      }
      h1 {
        font-size: 24px;
      }
      .topbar nav a,
      .topbar nav button {
        margin-left: 12px;
        font-size: 11px;
      }
    }




  .modal-content {
  display: flex;          /* 좌우 배치 */
  gap: 20px;
  align-items: flex-start;

  height: 72vh;           /* ★ 모달 안 “내용 전체” 높이 고정 */
  min-height: 0;          /* 내부 스크롤이 먹도록 */
}







 .modal-image-wrap {
  width: 38%;        /* 기존 그대로 */
  max-width: 320px;
  flex-shrink: 0;

  height: 100%;      /* ★ modal-content의 높이(72vh)를 그대로 따라가게 */
}




    .modal-image {
      width: 100%;
height: 100%;
      object-fit: cover;
      border-radius: 14px;
      border: 1px solid rgba(216,178,106,0.45);
      box-shadow: 0 6px 14px rgba(0,0,0,0.5);
    }

  .modal-text {
  flex: 1;                      /* 오른쪽 열 전체 */
  display: flex;
  flex-direction: column;
  align-items: flex-start;      /* 텍스트 왼쪽 정렬 */
  gap: 8px;
  min-height: 0;                /* 안쪽 스크롤을 위해 꼭 필요 */
height: 100%;
}




    .modal-type {
      font-size: 13px;
      text-transform: uppercase;
      letter-spacing: 0.18em;
      color: #8fd1d5;
    }

    .modal-title {
      font-size: 22px;
      font-weight: 600;
      color: #f3efe7;
      text-shadow: 0 2px 4px rgba(0,0,0,0.35);
    }

    .modal-tags {
      display: flex;
      flex-wrap: wrap;
      gap: 6px;
      font-size: 11px;
    }

    .modal-tag {
      padding: 3px 8px;
      border-radius: 999px;
      border: 1px solid rgba(227, 90, 90, 0.7);
      color: #ffd8da;
    }



/* 특징 / 사냥법 / 기원 박스 */
.detail-section {
  padding: 10px 12px;
  border-radius: 12px;
  background: rgba(6, 20, 26, 0.9);
  border: 1px solid rgba(216, 178, 106, 0.35);
  box-shadow: 0 6px 14px rgba(0, 0, 0, 0.55);
margin-bottom: 18px;
}

.detail-title {
  position: relative;
  padding-left: 20px;

  font-size: 14px;
  font-weight: 600;
  letter-spacing: 0.22em;
  text-transform: uppercase;
  color: #f4e1b3;

  /* 제목 아래 간격 — 기존보다 살짝 좁게 */
  margin-bottom: 4px;    

  /* 제목과 본문 사이에 들어가는 옅은 금빛 그라데이션 라인 */
  padding-bottom: 2px;   
  border-bottom: 0;
   /* fade-in 애니메이션 */
  opacity: 0;
  animation: fadeTitle 0.6s ease forwards;    
}
@keyframes fadeTitle {
  0% { opacity: 0; transform: translateY(-4px); }
  100% { opacity: 1; transform: translateY(0); }
}

.detail-title::before {
  /* 왼쪽 장식 기호 */
  content: "✦";
  position: absolute;
  left: 0;
  top: 0px;
  font-size: 12px;
  color: rgba(216, 178, 106, 0.9);

  /* 아주 은은한 발광 효과 → 입체감 & 강조 */
  text-shadow: 0 0 6px rgba(216, 178, 106, 0.5);
}

/* 제목 아래의 옅은 그라데이션 라인 */
.detail-title::after {
  content: "";
  position: absolute;
  left: 0;
  right: 0;
  bottom: -1px;
  height: 1px;

  background: linear-gradient(
    90deg,
    rgba(216, 178, 106, 0) 0%,
    rgba(216, 178, 106, 0.4) 50%,
    rgba(216, 178, 106, 0) 100%
  );
 opacity: 1;
 transition: opacity 0.3s;

  /* 양 끝 흐려지는 금빛 라인 */
  background: linear-gradient(
    90deg,
    rgba(216, 178, 106, 0) 0%,
    rgba(216, 178, 106, 0.35) 50%,
    rgba(216, 178, 106, 0) 100%
  );
}

.detail-text {
  font-size: 13px;
  color: #dde5e6;
  line-height: 1.8;
  white-space: pre-line;
}




/* ===== 기록 봉인 연출 ===== */
.sealed {
  position: relative;
  pointer-events: none;
}

.sealed .detail-text {
  color: rgba(243,239,231,0.25);
  filter: blur(3px) saturate(0.6);
  text-shadow: 0 0 6px rgba(255,61,141,0.15);
}

/* 봉인 레이어 */
.sealed::after {
  content: "⟪ 기록 봉인 · 열람 권한 없음 ⟫";
  position: absolute;
  inset: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 13px;
  letter-spacing: 0.22em;
  text-transform: uppercase;
  color: rgba(255,61,141,0.9);
  background:
    repeating-linear-gradient(
      135deg,
      rgba(0,0,0,0.45),
      rgba(0,0,0,0.45) 6px,
      rgba(0,0,0,0.65) 12px
    );
  border-radius: 12px;
  box-shadow: inset 0 0 24px rgba(255,61,141,0.25);
}








    @keyframes subtleGlow {
  0%   { text-shadow: 0 0 4px rgba(255,230,180,0.15); }
  50%  { text-shadow: 0 0 8px rgba(255,240,200,0.32); }
  100% { text-shadow: 0 0 4px rgba(255,230,180,0.15); }
}


    

    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(4px); }
      to   { opacity: 1; transform: translateY(0); }
    }
  
    /* ===== 접근/프리뷰 연출 ===== */
    .access-hud{
      position: sticky;
      top: 0;
      z-index: 50;
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:12px;
      padding:10px 18px;
      margin: 10px 0 0;
      background: linear-gradient(180deg, rgba(3,10,16,.88), rgba(3,10,16,.55));
      border: 1px solid rgba(0,255,209,.10);
      border-radius: 16px;
      backdrop-filter: blur(10px);
    }
    .hud-left{display:flex; gap:12px; align-items:center; flex-wrap:wrap;}
    .hud-pill{
      display:inline-flex; align-items:center; gap:8px;
      padding:7px 10px;
      border-radius: 999px;
      border:1px solid rgba(0,255,209,.18);
      background: rgba(0,255,209,.08);
      font-size:12px;
      letter-spacing:.18em;
    }
    .hud-item{font-size:12px; color: rgba(243,239,231,.78); letter-spacing:.06em;}
    .hud-item b{color:#f3efe7;}
    .hud-cta{
      display:inline-flex; align-items:center; justify-content:center;
      padding:9px 12px;
      border-radius: 999px;
      border:1px solid rgba(255,61,141,.28);
      background: rgba(255,61,141,.10);
      color:#f3efe7;
      font-size:12px;
      letter-spacing:.10em;
      text-decoration:none;
      transition: transform .15s ease, background .15s ease, border-color .15s ease;
    }
    .hud-cta:hover{transform: translateY(-1px); border-color: rgba(255,61,141,.45); background: rgba(255,61,141,.14);}

    .preview-banner{
      margin: 10px 0 0;
      padding: 12px 16px;
      border-radius: 16px;
      background: linear-gradient(180deg, rgba(255,61,141,.08), rgba(0,0,0,0));
      border: 1px solid rgba(255,61,141,.14);
      color: rgba(243,239,231,.86);
      font-size: 12px;
      letter-spacing: .04em;
      display:none;
    }
    .preview-banner a{
      margin-left: 10px;
      color:#f3efe7;
      text-decoration:none;
      border-bottom:1px solid rgba(255,255,255,.18);
    }

    /* 카드 봉인(프리뷰) */
    .card.locked{
      position: relative;
      overflow: hidden;
    }
    .card.locked .card-img{
      filter: blur(6px) saturate(.7) contrast(.9);
      transform: scale(1.03);
    }
    .card.locked::after{
      content:"";
      position:absolute;
      inset:0;
      background: radial-gradient(900px 420px at 50% 30%, rgba(255,61,141,.10), rgba(0,0,0,.55));
      pointer-events:none;
    }
    .lock-badge{
      position:absolute;
      left:14px;
      top:14px;
      padding:8px 10px;
      border-radius: 999px;
      border:1px solid rgba(255,61,141,.22);
      background: rgba(3,10,16,.78);
      color: rgba(243,239,231,.90);
      font-size: 11px;
      letter-spacing:.18em;
      z-index:2;
    }
    .lock-note{
      position:absolute;
      left:14px;
      right:14px;
      bottom:14px;
      padding:12px 12px;
      border-radius: 16px;
      border:1px solid rgba(255,255,255,.10);
      background: rgba(3,10,16,.75);
      color: rgba(243,239,231,.86);
      font-size: 12px;
      line-height:1.45;
      z-index:2;
    }
    .lock-note small{display:block; margin-top:6px; color: rgba(243,239,231,.65); letter-spacing:.08em;}

    /* 모달 제한 오버레이 */
    .restricted-overlay{
      position:absolute;
      inset:0;
      display:none;
      align-items:center;
      justify-content:center;
      padding: 18px;
      background: radial-gradient(1100px 700px at 40% 30%, rgba(255,61,141,.12), rgba(0,0,0,.80));
      backdrop-filter: blur(10px);
      z-index: 5;
    }
    .restricted-box{
      width:min(520px, 92vw);
      border-radius: 22px;
      border:1px solid rgba(255,61,141,.20);
      background: linear-gradient(180deg, rgba(3,10,16,.92), rgba(3,10,16,.80));
      padding: 18px 18px 16px;
      box-shadow: 0 22px 70px rgba(0,0,0,.55);
      text-align:left;
    }
    .restricted-title{
      font-size: 14px;
      letter-spacing:.22em;
      color:#f3efe7;
      margin-bottom: 10px;
    }
    .restricted-desc{
      font-size: 12px;
      color: rgba(243,239,231,.78);
      line-height: 1.7;
      margin-bottom: 14px;
    }
    .restricted-cta{
      display:inline-flex;
      padding: 10px 12px;
      border-radius: 999px;
      border:1px solid rgba(255,61,141,.35);
      background: rgba(255,61,141,.12);
      color:#f3efe7;
      text-decoration:none;
      font-size:12px;
      letter-spacing:.12em;
    }

    /* 프리뷰 상태 표시 */
    html[data-access="preview"] .preview-banner{display:block;}


/* ===== OBSERVER FLOAT (NON-INVASIVE) ===== */
#observer-float{
  position: fixed;

 right: calc((100vw - 1200px) / 2 - 270px);
 top: 120px;
transform: none;

  width: 172px;
  z-index: 9999;


  background: linear-gradient(180deg, rgba(4,18,24,.92), rgba(3,10,16,.85));
  border: 1px solid rgba(227,90,90,.55);
  border-radius: 16px;
  padding: 12px 12px 10px;

  box-shadow:
    0 14px 34px rgba(0,0,0,.70),
    0 0 22px rgba(227,90,90,.18);
  backdrop-filter: blur(10px);
  font-size: 11px;
  letter-spacing: .06em;
}
#observer-float .obs-title{
  font-family: "Cormorant Garamond","Noto Serif KR",serif;
  font-size: 12px;
  letter-spacing: .22em;
  text-align:center;
  color: rgba(255,240,220,.86);
  margin-bottom: 8px;
  text-transform: uppercase;
}
#observer-float .obs-row{
  display:flex;
  align-items:baseline;
  justify-content:space-between;
  gap:10px;
  padding: 6px 6px;
  border-radius: 12px;
  background: rgba(0,0,0,.14);
  border: 1px solid rgba(216,178,106,.18);
}
#observer-float .obs-row b{
  color: #ff4c4c;
  text-shadow: 0 0 10px rgba(255,76,76,.25);
}
#observer-float .obs-btns{
  display:grid;
  grid-template-columns: 1fr;
  gap: 6px;
  margin-top: 8px;
}
#observer-float button{
  width: 100%;
  padding: 7px 10px;
  border-radius: 999px;
  border: 1px solid rgba(227,90,90,.55);
  background: rgba(227,90,90,.12);
  color: rgba(243,239,231,.92);
  cursor: pointer;
  font-size: 11px;
  letter-spacing: .08em;
}
#observer-float button:hover{
  transform: translateY(-1px);
  background: rgba(227,90,90,.18);
}
#observer-float .obs-foot{
  margin-top: 8px;
  padding-top: 8px;
  border-top: 1px solid rgba(216,178,106,.18);
  text-align:center;
  color: rgba(243,239,231,.65);
  font-size: 10px;
  letter-spacing: .14em;
}
#observer-float .obs-timer{
  display:block;
  margin-top: 4px;
  font-size: 11px;
  color: rgba(255,240,220,.88);
}
@media (max-width: 980px){
  /* 작은 화면에서도 계속 보이게: 크기만 살짝 축소 */
  #observer-float{ right: 10px; width: 156px; }
}


/* =========================
   ARCHIVE (page-archive only)
   ========================= */
.page-archive .archive-section{padding:28px 0 10px}
.page-archive .archive-section .section-title{letter-spacing:.24em}
.page-archive .archive-section .section-sub{opacity:.85; margin-top:6px; margin-bottom:18px}

.page-archive .archive-grid{
  display:grid;
  grid-template-columns:1.15fr .85fr;
  gap:18px;
}
@media (max-width: 980px){
  .page-archive .archive-grid{grid-template-columns:1fr}
}

.page-archive .archive-card{
  border:1px solid rgba(236,207,129,.18);
  background:rgba(0,0,0,.22);
  border-radius:18px;
  padding:18px 18px 16px;
  box-shadow:0 0 0 1px rgba(255,61,141,.06) inset, 0 18px 60px rgba(0,0,0,.45);
}
.page-archive .archive-h{
  margin:0;
  font-weight:700;
  letter-spacing:.22em;
  font-size:14px;
  opacity:.95;
}
.page-archive .archive-desc{
  margin:10px 0 14px;
  opacity:.78;
  line-height:1.6;
  font-size:13px;
}
.page-archive .archive-list{list-style:none; padding:0; margin:0; display:grid; gap:10px}
.page-archive .archive-list li{
  border:1px solid rgba(255,255,255,.08);
  background:rgba(255,255,255,.03);
  border-radius:14px;
  padding:12px 12px 10px;
  position:relative;
  overflow:hidden;
}
.page-archive .archive-item{display:flex; justify-content:space-between; gap:10px; align-items:baseline}
.page-archive .archive-name{font-weight:700; font-size:14px}
.page-archive .archive-meta{opacity:.7; font-size:12px; letter-spacing:.08em}
.page-archive .archive-tags{display:flex; flex-wrap:wrap; gap:6px; margin-top:8px}
.page-archive .archive-blurb{margin:8px 0 0; font-size:12px; opacity:.7}

.page-archive .archive-cta{display:flex; gap:10px; margin-top:14px; flex-wrap:wrap}

.page-archive .video-grid{
  display:grid;
  grid-template-columns:1fr 1fr;
  gap:10px;
}
@media (max-width: 560px){
  .page-archive .video-grid{grid-template-columns:1fr}
}

.page-archive .video-tile{
  display:block;
  border:1px solid rgba(255,255,255,.08);
  background:rgba(255,255,255,.03);
  border-radius:14px;
  padding:12px;
  text-decoration:none;
  color:inherit;
  overflow:hidden;
  position:relative;
}
.page-archive .video-tile:hover{transform:translateY(-1px)}
.page-archive .video-thumb{
  height:92px;
  border-radius:12px;
  background:linear-gradient(135deg, rgba(255,61,141,.22), rgba(185,76,255,.14), rgba(236,207,129,.10));
  box-shadow:0 0 0 1px rgba(255,255,255,.08) inset;
  margin-bottom:10px;
}
.page-archive .video-title{font-weight:700; font-size:13px; line-height:1.35}
.page-archive .video-meta{opacity:.7; font-size:12px; margin-top:6px; letter-spacing:.08em}

.page-archive .archive-note{
  margin-top:12px;
  border:1px dashed rgba(236,207,129,.22);
  border-radius:14px;
  padding:12px;
  background:rgba(0,0,0,.18);
}
.page-archive .archive-note-title{font-weight:700; font-size:12px; letter-spacing:.22em; opacity:.9}
.page-archive .archive-note-body{margin-top:8px; font-size:12px; opacity:.78; line-height:1.6}

/* 봉인 블록: ‘진짜 봉인’처럼 보이게 */
.page-archive .sealed-block{
  filter:blur(6px) saturate(.8);
  user-select:none;
}
.page-archive .sealed-block::after{
  content:attr(data-seal-label);
  position:absolute;
  inset:0;
  display:flex;
  align-items:center;
  justify-content:center;
  font-weight:800;
  letter-spacing:.22em;
  text-transform:uppercase;
  color:rgba(236,207,129,.92);
  text-shadow:0 0 22px rgba(255,61,141,.22), 0 0 40px rgba(185,76,255,.18);
  background:radial-gradient(circle at 50% 50%, rgba(0,0,0,.70), rgba(0,0,0,.25));
  border:1px solid rgba(255,61,141,.18);
  border-radius:14px;
}
.page-archive .sealed-block *{pointer-events:none}

/* --- PATCH: RELATED VIDEOS thumbnails + video modal + CTA buttons --- */

/* VIDEO MODAL layout fix */
#video-modal{
  position: fixed;
  inset: 0;
  display: flex;
  justify-content: center;
  align-items: center;
  opacity: 0;
  pointer-events: none;
  z-index: 9999;
}

#video-modal.is-open{
  opacity: 1;
  pointer-events: auto;
}

#video-modal .modal-backdrop{
  position: absolute;
  inset: 0;
  background: rgba(0,0,0,.72);
}

#video-modal .modal-panel{
  position: relative;
  width: min(92vw, 980px);
  background: #050c11;
  border-radius: 18px;
  border: 1px solid rgba(216,178,106,.55);
  box-shadow: 0 20px 60px rgba(0,0,0,.75);
  overflow: hidden;
}


#video-modal .video-body{
  position: relative;   /* iframe 기준 박스 */
  width: 100%;
  background:#000;
  aspect-ratio: 16 / 9; /* 16:9 고정 */
}

#video-modal .video-frame{
  position:absolute;
  inset:0;
  width:100%;
  height:100%;
  display:block;
  border:0;
}


#video-modal .video-head{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:12px;
  padding:12px 14px;
  background: rgba(0,0,0,.45);
  border-bottom: 1px solid rgba(255,255,255,.10);
}

#video-modal .video-modal-title{
  font-size:14px;
  font-weight:700;
  letter-spacing:.02em;
  color:#fff;
  line-height:1.2;
}

#video-modal .video-close{
  width:34px;
  height:34px;
  display:flex;
  align-items:center;
  justify-content:center;

  border-radius:999px;
  border:1px solid rgba(255,255,255,.18);
  background: rgba(255,255,255,.06);
  color:#fff;

  cursor:pointer;
  user-select:none;
  -webkit-tap-highlight-color: transparent;
}

#video-modal .video-close:hover{
  background: rgba(255,255,255,.12);
}

#video-modal .video-close:focus{
  outline:none;
  box-shadow: 0 0 0 2px rgba(255,255,255,.18);
}




/* --- PATCH: MONSTER FICTION modal --- */
#fiction-modal{
  position:fixed;
  inset:0;
  display:flex;
  justify-content:center;
  align-items:center;
  opacity:0;
  pointer-events:none;
  z-index:10000;
}
#fiction-modal.is-open{
  opacity:1;
  pointer-events:auto;
}
#fiction-modal .fiction-backdrop{
  position:absolute;
  inset:0;
  background:rgba(0,0,0,.72);
}

#fiction-modal .fiction-panel{
  position:relative;
  width:min(94vw, 1100px);
  height:min(86vh, 720px);
  background:#050c11;
  border-radius:18px;
  border:1px solid rgba(216,178,106,.55);
  box-shadow:0 20px 60px rgba(0,0,0,.75);
  overflow:hidden;
  display:flex;
  flex-direction:column;
}

#fiction-modal .fiction-close{
  position:absolute;
  top:14px;
  right:14px;
  width:34px;
  height:34px;
  border-radius:10px;
  border:1px solid rgba(255,255,255,.18);
  background:rgba(0,0,0,.35);
  color:#e9e1d6;
  font-size:20px;
  line-height:1;
  cursor:pointer;
  z-index:2;
}

#fiction-modal .fiction-head{
  padding:18px 58px 12px 18px;
  display:flex;
  justify-content:space-between;
  gap:16px;
  border-bottom:1px solid rgba(255,255,255,.08);
}
#fiction-modal .fiction-title{
  font-size:22px;
  font-weight:700;
  letter-spacing:.02em;
}
#fiction-modal .fiction-meta{
  margin-top:0;
  opacity:.9;
  font-size:18px;
  font-weight:700;
  text-align:right;
  white-space:nowrap;
}
#fiction-modal .fiction-tags{
  display:flex;
  flex-wrap:wrap;
  gap:8px;
  align-items:flex-start;
  justify-content:flex-start;
}
#fiction-modal .fiction-tags .tag{
  padding:6px 10px;
  border-radius:12px;
  border:1px solid rgba(0,190,255,.45);
  color:#bfefff;
  font-size:12px;
  background:rgba(0,0,0,.25);
}

#fiction-modal .fiction-body{
  flex:1;
  display:grid;
  grid-template-columns: 1.05fr 1fr;
  gap:16px;
  padding:16px;
  min-height:0; /* 중요: 우측 스크롤 정상 동작 */
}

#fiction-modal .fiction-left{ min-height:0; }
#fiction-modal .fiction-carousel{
  position:relative;
  height:100%;
  border-radius:14px;
  overflow:hidden;
  border:1px solid rgba(255,255,255,.08);
  background:rgba(0,0,0,.25);
}
#fiction-modal .fiction-viewport{
  position:absolute;
  inset:0;
  display:flex;
  transition:transform .25s ease;
}
#fiction-modal .fiction-slide{
  min-width:100%;
  height:100%;
  background-size: contain;
  background-repeat: no-repeat;
  background-position: center;
}

#fiction-modal .fiction-dots{
  position:absolute;
  left:0;
  right:0;
  bottom:12px;
  display:flex;
  justify-content:center;
  gap:8px;
  z-index:1;
}
#fiction-modal .fiction-dot{
  width: 10px;
  height: 10px;
  aspect-ratio: 1 / 1;      /* 완전 원형 고정 */
  flex: 0 0 10px;           /* 찌그러짐 방지 */
  padding: 0;
  border-radius: 999px;

  /* 색감: 모달 톤에 어울리는 청록 포인트 + 은은한 발광 */
  background: rgba(0,190,255,.18);
  border: 1px solid rgba(0,190,255,.55);
  box-shadow:
    0 0 0 1px rgba(0,0,0,.50) inset,
    0 0 8px rgba(0,190,255,.10);

  cursor: pointer;
  transition: transform .15s ease, background .15s ease, box-shadow .15s ease, border-color .15s ease;
}
#fiction-modal .fiction-dot.is-active{
  transform: scale(1.25);
  background: rgba(0,190,255,.95);
  border-color: rgba(0,190,255,1);
  box-shadow:
    0 0 0 1px rgba(0,0,0,.35) inset,
    0 0 14px rgba(0,190,255,.35);
}

#fiction-modal .fiction-nav{
  position:absolute;
  top:50%;
  transform:translateY(-50%);
  width:38px;
  height:38px;
  border-radius:12px;
  border:1px solid rgba(255,255,255,.18);
  background:rgba(0,0,0,.35);
  color:#e9e1d6;
  font-size:22px;
  cursor:pointer;
  z-index:1;
}
#fiction-modal .fiction-nav.prev{ left:10px; }
#fiction-modal .fiction-nav.next{ right:10px; }

#fiction-modal .fiction-right{
  min-height:0;           /* 중요 */
  overflow:auto;          /* 대표님 요구: 우측 스크롤 */
  padding-right:6px;
}
#fiction-modal .fiction-box{
  border:1px solid rgba(255,255,255,.08);
  border-radius:14px;
  background:rgba(0,0,0,.18);
  padding:14px;
  margin-bottom:12px;
}
#fiction-modal .fiction-box-title{
  font-weight: 800;
  font-size: 15px;
  letter-spacing: .04em;
  margin-bottom: 12px;
  color: rgba(255,255,255,.92);
}
#fiction-modal .fiction-box-body{
  white-space: pre-line;
  font-size: 14.5px;
  line-height: 1.78;
  letter-spacing: .01em;
  color: rgba(255,255,255,.84);
}
#fiction-modal .fiction-quotes{
  margin: 0;
  padding-left: 18px;
  font-size: 14.5px;
  line-height: 1.78;
  letter-spacing: .01em;
  color: rgba(255,255,255,.84);
}
#fiction-modal .fiction-quotes li{
  margin: 12px 0;
}
#fiction-modal .fiction-quotes li::marker{
  color: rgba(0,190,255,.75);
}
#fiction-modal .fiction-right::-webkit-scrollbar{
  width: 10px;
}
#fiction-modal .fiction-right::-webkit-scrollbar-track{
  background: rgba(0,0,0,.25);
  border-radius: 999px;
}
#fiction-modal .fiction-right::-webkit-scrollbar-thumb{
 background: rgba(0,190,255,.22);
border: 1px solid rgba(0,190,255,.45);
  border-radius: 999px;
}
#fiction-modal .fiction-right::-webkit-scrollbar-thumb:hover{
  background: rgba(0,190,255,.32);
}

#fiction-modal .fiction-box .fiction-content{
  font-size: 14px;
  line-height: 1.75;                 /* 1.6 -> 1.75 */
  letter-spacing: .01em;             /* 자간 살짝 */
  color: rgba(255,255,255,.86);      /* 약간 또렷하게 */
  white-space: pre-line;
}




/* --- FIX: RELATED VIDEOS thumbnail sizing (no crop) --- */
.page-archive .video-thumb{
  position: relative;
  height: auto !important;
  aspect-ratio: 16 / 9;
  background-size: cover;
  background-position: center;
}
/* --- FIX: video modal visibility --- */
#video-modal.is-open{
  opacity: 1;
  pointer-events: auto;
}

.video-thumb{
  width: 100%;
  aspect-ratio: 16 / 9;
  border-radius: 12px;
  background-size: cover;
  background-position: center;
}
.video-tile:not(.sealed-block) .video-thumb::after{
  content:'▶';
  position:absolute;
  inset:0;
  display:grid;
  place-items:center;
  font-size:28px;
  color:rgba(243,239,231,.92);
  text-shadow:0 0 18px rgba(255,61,141,.35), 0 0 28px rgba(185,76,255,.25);
  opacity:.9;
}
.video-tile:not(.sealed-block):hover .video-thumb::after{ transform:scale(1.06); }
.video-tile:not(.sealed-block):active .video-thumb::after{ transform:scale(.98); }

/* simple button styles (archive-only) */
.btn{
  display:inline-flex;
  align-items:center;
  justify-content:center;
  gap:.5rem;
  padding:10px 14px;
  border-radius:999px;
  border:1px solid rgba(255,61,141,.30);
  background:rgba(255,61,141,.10);
  color:rgba(243,239,231,.96);
  text-decoration:none;
  font-weight:700;
  letter-spacing:.02em;
  transition:transform .12s ease, filter .12s ease, background .12s ease;
}
.btn:hover{ transform:translateY(-1px); filter:brightness(1.05); }
.btn:active{ transform:translateY(0); }
.btn-ghost{
  background:rgba(255,255,255,.04);
  border-color:rgba(255,255,255,.14);
}
.btn-primary{
  background:linear-gradient(90deg, rgba(255,61,141,.25), rgba(185,76,255,.18));
  border-color:rgba(255,61,141,.36);
}





</style>
</head>
<body class="page-archive">
  <div class="page">
    <!-- 헤더 -->
    <header class="topbar">
      <div class="brand" id="brand-to-top">
        <a href="home.html" class="brand">OCCULT BESTIARY TEST PAGE</a>
        <span>오컬트 & 판타지 몬스터 백과</span>
      </div>
      <nav>
         <a href="home.html#monsters" class="nav-link">몬스터 도감</a>
  <a href="home.html#about-world" class="nav-link">세계관</a>
<a href="archive.html" class="nav-link">아카이브</a>
  <a href="https://tumblbug.com/occult_bestiary" target="_blank" class="nav-link">텀블벅</a>
  <button id="logout-btn" class="nav-link">로그아웃</button>
      </nav>
    </header>
    <!-- 접근 상태 HUD (공개 프리뷰/후원자) -->
    <div class="access-hud" id="accessHud" aria-live="polite">
      <div class="hud-left">
        <span class="hud-pill" id="accessPill">PUBLIC PREVIEW</span>
        <span class="hud-item">기록 안정도 <b id="stabilityVal">68</b>%</span>
        <span class="hud-item">열람 등급 <b id="accessRank">F</b></span>
      </div>
      <div class="hud-right">
        <a class="hud-cta" id="unlockCta" href="https://tumblbug.com/occult_bestiary" target="_blank" rel="noopener">후원으로 해금</a>
      </div>
    </div>

    <div class="preview-banner" id="previewBanner" role="note">
      <b>공개 프리뷰 모드</b> — 일부 기록은 봉인되었거나 훼손된 형태로만 열람됩니다.
      <a href="https://tumblbug.com/occult_bestiary" target="_blank" rel="noopener">전체 열람 권한 얻기 →</a>
    </div>


    <div class="top-divider"></div>

    




<!-- 몬스터 도감 -->
    
<section id="archive" class="archive-section">
  <div class="section-title">ARCHIVE</div>
  <div class="section-sub">오컬트 & 판타지 몬스터가 등장하는 소설 · 영화 · 영상 기록 아카이브</div>

  <div class="archive-grid">
    <article class="archive-card">
      <h3 class="archive-h">MONSTER FICTION</h3>
      <p class="archive-desc">추천 소설/드라마/영화를 클릭하면 상세 정보를 확인할 수 있습니다.</p>

      <ul class="archive-list">
        <li class="fiction-tile" data-fiction="dracula" role="button" tabindex="0" aria-label="Dracula 상세 보기">

          <div class="archive-item">
            <div class="archive-name">드라큘라 (Dracula)</div>
            <div class="archive-meta">브램 스토커 · 1897</div>
          </div>
          <div class="archive-tags"><span class="card-tag">고딕 호러</span><span class="card-tag">서간체(일기·편지)</span> <span class="card-tag">빅토리아 시대</span> <span class="card-tag">흡혈귀</span> <span class="card-tag">금기와 욕망</span> </div>
        </li>

        <li class="fiction-tile" data-fiction="interview" role="button" tabindex="0" aria-label="interview 상세 보기">

          <div class="archive-item">
            <div class="archive-name">뱀파이어와의 인터뷰 (Interview with the Vampire)</div>
            <div class="archive-meta">닐 조던 · 1994</div>
          </div>
          <div class="archive-tags"><span class="card-tag">고딕</span><span class="card-tag">불멸</span><span class="card-tag">시대극</span> <span class="card-tag">아름다움과 혐오</span></div>
        </li>

        <li class="sealed-block" data-seal-label="후원자 전용 기록">
          <div class="archive-item">
            <div class="archive-name">⟪기록 봉인⟫ 고대 요정 계약서</div>
            <div class="archive-meta">Fae · Pixie / Leprechaun</div>
          </div>
          <div class="archive-tags"><span class="card-tag">Fae</span><span class="card-tag">Contract</span><span class="card-tag">Trick</span></div>
          <p class="archive-blurb">이 항목은 공개 프리뷰에서 봉인 처리됩니다.</p>
        </li>

        <li class="sealed-block" data-seal-label="후원자 전용 기록">
          <div class="archive-item">
            <div class="archive-name">⟪기록 봉인⟫ 악마학 주해(초록)</div>
            <div class="archive-meta">Demonology · Appendix</div>
          </div>
          <div class="archive-tags"><span class="card-tag">Demon</span><span class="card-tag">Ritual</span><span class="card-tag">Sigil</span></div>
          <p class="archive-blurb">의도적으로 핵심 문단이 누락되어 있습니다.</p>
        </li>
      </ul>

      <div class="archive-cta">
        <a class="btn btn-ghost" href="home.html#monsters">도감으로 돌아가기</a>
        <a class="btn btn-primary" href="https://tumblbug.com/occult_bestiary" target="_blank" rel="noopener">후원으로 해금</a>
      </div>
    </article>

    <article class="archive-card">
      <h3 class="archive-h">RELATED VIDEOS</h3>
      <p class="archive-desc">연구·해설·분석 영상 큐레이션. 영상 목록은 계속 업데이트됩니다.</p>

      <div class="video-grid">
        <a data-videoid="lsPRWCM5tnk" class="video-tile" href="https://www.youtube.com/watch?v=lsPRWCM5tnk" aria-label="영상 링크(예시)">
          <div class="video-thumb" style="background-image:url(https://img.youtube.com/vi/lsPRWCM5tnk/hqdefault.jpg)"></div>
          <div class="video-title">뱀파이어를 사냥하던 사람들</div>
          <div class="video-meta">연구 아카이브 · 4m 16s</div>
        </a>

        <a data-videoid="Jv_bSxET3Vk" class="video-tile" href="https://www.youtube.com/watch?v=Jv_bSxET3Vk" aria-label="영상 링크(예시)">
          <div class="video-thumb" style="background-image:url(https://img.youtube.com/vi/Jv_bSxET3Vk/hqdefault.jpg)"></div>
          <div class="video-title">좀비의 역사와 유래 이야기</div>
          <div class="video-meta">시각 에세이 · 4m 55s</div>
        </a>

        <a class="video-tile sealed-block" data-seal-label="후원자 전용 링크" href="#" aria-label="봉인된 영상(예시)">
          <div class="video-thumb" style="background-image: url('https://img.youtube.com/vi/x2H9lnJbBvk/hqdefault.jpg');"></div>
          <div class="video-title">⟪봉인⟫ 켄타우로스가 이따위로 생긴 이유</div>
          <div class="video-meta">판타지 사전 · 15m 20s</div>
        </a>


        <a class="video-tile sealed-block" data-seal-label="후원자 전용 링크" href="#" aria-label="봉인된 영상(예시)">
          <div class="video-thumb" style="background-image:url('https://img.youtube.com/vi/BT3yAp9gu_g/hqdefault.jpg');"></div>
          <div class="video-title">⟪봉인⟫ 레프리콘과 함께한 여름</div>
          <div class="video-meta">필드 리포트 · 16m 4s</div>
        </a>
      </div>

      <div class="archive-note">
        <div class="archive-note-title">아카이브 운영 방식</div>
        <div class="archive-note-body">
          공개 프리뷰는 일부만 제공됩니다. 후원자는 (도감 카드 ↔ 아카이브)를 해금할 수 있습니다.
        </div>
      </div>
    </article>
  </div>
</section>


   
      </div>
    </section>

<footer class="site-footer">
  <p>
    본 웹 도감의 모든 콘텐츠는 창작 참고용 자료이며, 무단 재배포 및 상업적 재사용을 금합니다.  © 2025 Occult &amp; Fantasy Monster Bestiary, 리채 All rights reserved.
  </p>
</footer>


  
  </div>

  <!-- 모달 --------------------------------------------------------- -->
  <div class="modal" id="monster-modal">
    <div class="modal-backdrop" id="modal-backdrop"></div>

    <div class="modal-panel">
      <button class="modal-close" id="modal-close">&times;</button>

      <div class="modal-content">
        <!-- 왼쪽 이미지 -->
        <div class="modal-image-wrap">
          <img id="modal-image" class="modal-image" alt="" />
        </div>

        <!-- 오른쪽 텍스트 -->
        <div class="modal-text">
          <div class="modal-type" id="modal-type"></div>
          <div class="modal-title" id="modal-title"></div>
          <div class="modal-tags" id="modal-tags"></div>
          <div class="modal-scroll-area" id="modal-scroll-area">
  <div class="detail-section">
    <div class="detail-title">특징</div>
    <div class="detail-text" id="detail-feature"></div>
  </div>

  <div class="detail-section">
    <div class="detail-title">사냥법</div>
    <div class="detail-text" id="detail-hunt"></div>
  </div>

  <div class="detail-section">
    <div class="detail-title">기원</div>
    <div class="detail-text" id="detail-origin"></div>
  </div>
</div>

        </div>
      </div>

      <!-- 프리뷰 제한 오버레이 -->
      <div class="restricted-overlay" id="restrictedOverlay" aria-hidden="true">
        <div class="restricted-box">
          <div class="restricted-title">기록 봉인</div>
          <div class="restricted-desc">
            이 항목은 공개 프리뷰에서 일부만 열람 가능합니다.<br/>
            후원자 권한으로 전체 기록을 해금하세요.
          </div>
          <a class="restricted-cta" href="https://tumblbug.com/occult_bestiary" target="_blank" rel="noopener">후원으로 해금</a>
        </div>
      </div>

    </div>
  </div>

  <!-- SCRIPT ------------------------------------------------------ -->
  <script>
    /* 접근 모드 (후원자/프리뷰) */
    const isSupporter = sessionStorage.getItem("isSupporter") === "1";
    document.documentElement.dataset.access = isSupporter ? "full" : "preview";
    // ----------- 스크롤 / 네비게이션 -----------
   document.getElementById("brand-to-top").addEventListener("click", () => {
      window.scrollTo({ top: 0, behavior: "smooth" });
    });

    document.getElementById("scroll-to-monsters").addEventListener("click", () => {
      document.getElementById("monsters").scrollIntoView({ behavior: "smooth" });
    });

    document.getElementById("scroll-to-world").addEventListener("click", () => {
      document.getElementById("about-world").scrollIntoView({ behavior: "smooth" });
    });

    document.getElementById("logout-btn").addEventListener("click", () => {
      sessionStorage.removeItem("isSupporter");
      window.location.href = "index.html";
    });


document.addEventListener("contextmenu", function (e) {
  e.preventDefault();
});


 


   

   

   


      // 프리뷰 제한: 핵심 문단 훼손/봉인 연출
      if (restricted && !isSupporter) {
        const redact = (label) => `⟪기록 훼손⟫ ${label} — 후원자 권한 필요`;
        document.getElementById("detail-feature").textContent = redact("특징");
        document.getElementById("detail-hunt").textContent =
    "⟪기록 봉인⟫ 사냥법 — 후원자 전용 기록";

  document.getElementById("detail-origin").textContent =
    "⟪기록 봉인⟫ 기원 — 후원자 전용 기록";
        if (restrictedOverlay) {
          restrictedOverlay.style.display = "flex";
          restrictedOverlay.setAttribute("aria-hidden","false");
        }
        // 기록 안정도 하락 연출
        if (stabilityVal) {
          const base = parseInt(stabilityVal.textContent || "68", 10);
          const next = Math.max(32, base - 9);
          stabilityVal.textContent = String(next);
        }
      } else {
        if (restrictedOverlay) {
          restrictedOverlay.style.display = "none";
          restrictedOverlay.setAttribute("aria-hidden","true");
        }
      }

      modal.classList.add("show");
    }

    document.getElementById("modal-close").onclick =
      () => { 
        modal.classList.remove("show");
        if (restrictedOverlay) { restrictedOverlay.style.display = "none"; restrictedOverlay.setAttribute("aria-hidden","true"); }
      };
    document.getElementById("modal-backdrop").onclick =
      () => { 
        modal.classList.remove("show");
        if (restrictedOverlay) { restrictedOverlay.style.display = "none"; restrictedOverlay.setAttribute("aria-hidden","true"); }
      };
  </script>

<!-- OBSERVER FLOAT UI (non-invasive) -->
<div id="observer-float" aria-label="관측자 패널">
  <div class="obs-title">OBSERVER</div>
  <div class="obs-row">
    <span>안정도</span>
    <span><b id="obs-stability-float">--</b>%</span>
  </div>
  <div class="obs-btns" role="group" aria-label="관측 개입">
    <button type="button" data-effect="+3">의식 보강</button>
    <button type="button" data-effect="-5">위험 실험</button>
    <button type="button" data-effect="+1">기록 정제</button>
  </div>
  <div class="obs-foot">
    NEXT RITUAL
    <span class="obs-timer" id="ritual-timer-float">--:--:--</span>
  </div>
</div>


<script>
/* ===== OBSERVER FLOAT BEHAVIOR (NON-INVASIVE) ===== */
(function(){
  const stabMain = document.getElementById('stabilityVal');      // existing HUD
  const stabFloat = document.getElementById('obs-stability-float');
  const panel = document.getElementById('observer-float');
  if(!panel || !stabFloat) return;

  function getStability(){
    const n = stabMain ? Number(String(stabMain.textContent).replace(/[^0-9.]/g,'')) : NaN;
    return Number.isFinite(n) ? n : 68;
  }
  function setStability(v){
    const clamped = Math.max(0, Math.min(100, Math.round(v)));
    if(stabMain) stabMain.textContent = clamped;
    stabFloat.textContent = clamped;
  }

  setStability(getStability());

  panel.querySelectorAll('button[data-effect]').forEach(btn=>{
    btn.addEventListener('click', ()=>{
      const delta = Number(btn.dataset.effect) || 0;
      setStability(getStability() + delta);
    });
  });

  const timer = document.getElementById('ritual-timer-float');
  if(timer){
    const next = new Date();
    next.setHours(24,0,0,0); // next midnight
    const pad = (x)=>String(x).padStart(2,'0');
    setInterval(()=>{
      const diff = Math.max(0, next - new Date());
      const h = Math.floor(diff/36e5);
      const m = Math.floor((diff%36e5)/6e4);
      const s = Math.floor((diff%6e4)/1e3);
      timer.textContent = `${pad(h)}:${pad(m)}:${pad(s)}`;
    }, 1000);
  }
})();
</script>


<style>
/* === OBSERVER VERTICAL BAR OVERRIDE === */
#observer-float{
  position:fixed; right:0; top:120px;
  width:72px; padding:10px 8px;
  border-radius:18px 0 0 18px;
  display:flex; flex-direction:column; align-items:center; gap:8px;
  z-index:9999;
}
#observer-float .obs-title{font-size:11px; letter-spacing:.12em; margin-bottom:4px}
#observer-float .obs-btns{display:flex; flex-direction:column; gap:8px}
#observer-float button{padding:6px 4px; font-size:10px}
.obs-gauge{display:flex; flex-direction:column; align-items:center; gap:6px}
.gauge-bar{
  width:18px; height:120px; border-radius:999px; overflow:hidden; position:relative;
  background:rgba(255,255,255,.08); border:1px solid rgba(227,90,90,.45);
}
.gauge-fill{
  position:absolute; bottom:0; width:100%;
  background:linear-gradient(180deg, rgba(255,90,90,.95), rgba(255,90,90,.55));
  box-shadow:0 0 12px rgba(255,90,90,.6);
}
.gauge-label{font-size:9px; text-align:center}
</style>

<script>
(function(){
  const host = document.getElementById('observer-float');
  if(!host) return;

  host.innerHTML = `
    <div class="obs-title">OBSERVER</div>
    <div class="obs-gauge">
      <div class="gauge-bar"><div class="gauge-fill" id="obs-gauge-fill"></div></div>
      <div class="gauge-label"><span>안정도</span> <b id="obs-stability">74%</b></div>
    </div>
    <div class="obs-btns">
      <button data-effect="+3">의식 보강</button>
      <button data-effect="-5">위험 실험</button>
      <button data-effect="+1">기록 정제</button>
    </div>
    <div class="obs-foot">
      <div>NEXT RITUAL</div>
      <span class="obs-timer" id="ritual-timer"></span>
    </div>
  `;

  const stabEl = document.getElementById('obs-stability');
  const fillEl = document.getElementById('obs-gauge-fill');
  let stability = parseInt((stabEl.textContent||'74').replace('%',''),10) || 74;
  fillEl.style.height = stability + '%';

  host.querySelectorAll('button').forEach(b=>{
    b.onclick = ()=>{
      stability = Math.max(0, Math.min(100, stability + Number(b.dataset.effect)));
      stabEl.textContent = stability + '%';
      fillEl.style.height = stability + '%';
    };
  });

  const t=document.getElementById('ritual-timer');
  if(t){
    const next=new Date(); next.setHours(24,0,0,0);
    setInterval(()=>{
      const d=next-new Date();
      const h=Math.floor(d/36e5),m=Math.floor(d%36e5/6e4),s=Math.floor(d%6e4/1e3);
      t.textContent=`${h.toString().padStart(2,'0')}:${m.toString().padStart(2,'0')}:${s.toString().padStart(2,'0')}`;
    },1000);
  }
})();
</script>


<!-- PATCH: Video Modal -->
<div id="video-modal" class="modal" aria-hidden="true">
  <div class="modal-backdrop" id="video-backdrop"></div>
  <div class="modal-panel" role="dialog" aria-modal="true" aria-labelledby="video-modal-title">
    <div class="video-shell">
      <div class="video-head">
        <div class="video-modal-title" id="video-modal-title">RELATED VIDEO</div>
        <button class="video-close" id="video-close" type="button" aria-label="닫기">✕</button>
      </div>
      <div class="video-body">
        <iframe
  id="video-frame"
  class="video-frame"
  src=""
  title="Related video player"
  frameborder="0"
  allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
  referrerpolicy="strict-origin-when-cross-origin"
  allowfullscreen>
</iframe>

      </div>
    </div>
  </div>
</div>
<!-- /PATCH: Video Modal -->





<!-- PATCH: Fiction Modal -->
<div id="fiction-modal" aria-hidden="true">
  <div class="fiction-backdrop" id="fiction-backdrop"></div>

  <div class="fiction-panel" role="dialog" aria-modal="true" aria-labelledby="fiction-title">
    <button class="fiction-close" id="fiction-close" type="button" aria-label="모달 닫기">×</button>

    <div class="fiction-head">
  <div class="fiction-head-left">
    <div class="fiction-title" id="fiction-title">TITLE</div>
    <div class="fiction-tags" id="fiction-tags"></div>
  </div>

  <div class="fiction-meta" id="fiction-meta">AUTHOR · YEAR</div>
</div>


    <div class="fiction-body">
      <div class="fiction-left">
        <div class="fiction-carousel">
          <div class="fiction-viewport" id="fiction-viewport"></div>
          <div class="fiction-dots" id="fiction-dots" aria-label="이미지 선택"></div>
          <button class="fiction-nav prev" id="fiction-prev" type="button" aria-label="이전 이미지">‹</button>
          <button class="fiction-nav next" id="fiction-next" type="button" aria-label="다음 이미지">›</button>
        </div>
      </div>

      <div class="fiction-right" id="fiction-right">
        <div class="fiction-box">
          <div class="fiction-box-title">작품 정보</div>
          <div class="fiction-box-body" id="fiction-info"></div>
        </div>

        <div class="fiction-box">
          <div class="fiction-box-title">명대사</div>
          <ul class="fiction-quotes" id="fiction-quotes"></ul>
        </div>
      </div>
    </div>
  </div>
</div>
<!-- /PATCH: Fiction Modal -->






<script>
/* FIX: related videos -> modal player (stable) */
(function(){
  const modal = document.getElementById('video-modal');
  if(!modal) return;

  const backdrop = document.getElementById('video-backdrop');
  const closeBtn = document.getElementById('video-close');
  const frame = document.getElementById('video-frame');
  const titleEl = document.getElementById('video-modal-title');

  function normalizeYouTubeId(raw){
    if(!raw) return '';
    let v = String(raw).trim();

    // data-videoid에 URL이 들어가도 ID만 뽑기
    if (v.includes('youtube.com') || v.includes('youtu.be')) {
      try{
        const u = new URL(v);
        v = u.searchParams.get('v') || u.pathname.split('/').pop() || v;
      }catch(e){}
    }
    // 뒤 파라미터 제거
    v = v.split('&')[0].split('?')[0];
    return v;
  }

  function openVideo(rawId, title){
    const vid = normalizeYouTubeId(rawId);
    if(!vid) return;

    modal.classList.add('is-open');
    modal.setAttribute('aria-hidden','false');
    if(titleEl) titleEl.textContent = title || 'RELATED VIDEO';

    
const originParam =
      (location.protocol === 'http:' || location.protocol === 'https:')
        ? '&origin=' + encodeURIComponent(location.origin)
        : '';

    frame.src =
      'https://www.youtube-nocookie.com/embed/' + encodeURIComponent(vid) +
      '?autoplay=1&mute=1&rel=0&modestbranding=1&playsinline=1' +
      originParam;
    document.body.style.overflow = 'hidden';
  }

  function closeVideo(){
    modal.classList.remove('is-open');
    modal.setAttribute('aria-hidden','true');
    frame.src = '';
    document.body.style.overflow = '';
  }

  document.querySelectorAll('a.video-tile').forEach(a=>{
    if(a.classList.contains('sealed-block')){
      a.addEventListener('click', (e)=>{ e.preventDefault(); });
      return;
    }
    a.addEventListener('click', (e)=>{
      e.preventDefault();
      const id = a.getAttribute('data-videoid');
      const title = a.querySelector('.video-title')?.textContent?.trim();
      openVideo(id, title);
    });
  });

  backdrop && backdrop.addEventListener('click', closeVideo);
  closeBtn && closeBtn.addEventListener('click', closeVideo);
  window.addEventListener('keydown', (e)=>{ if(e.key === 'Escape') closeVideo(); });
})();
</script>



<script>
/* PATCH: monster fiction -> modal (separate from video modal) */
(function(){
  const modal = document.getElementById('fiction-modal');
  if(!modal) return;

  const backdrop = document.getElementById('fiction-backdrop');
  const closeBtn = document.getElementById('fiction-close');

  const titleEl = document.getElementById('fiction-title');
  const metaEl  = document.getElementById('fiction-meta');
  const tagsEl  = document.getElementById('fiction-tags');

  const viewport = document.getElementById('fiction-viewport');
  const dotsWrap = document.getElementById('fiction-dots');
  const prevBtn  = document.getElementById('fiction-prev');
  const nextBtn  = document.getElementById('fiction-next');

  const infoEl   = document.getElementById('fiction-info');
  const quotesEl = document.getElementById('fiction-quotes');

  

  const fictionData = {
    dracula: {
      title: '드라큘라 (Dracula)',
      meta: '브램 스토커 · 1897',
      tags: ['고딕 호러','서간체(일기·편지)', '빅토리아 시대', '흡혈귀', '금기와 욕망'],
      images: ['fiction_img/dracula_01.jpg',
  'fiction_img/dracula_02.jpg',
  'fiction_img/dracula_03.jpg'],
      info:
`이해를 돕는 예시 내용으로, 수정 및 업데이트 될 수 있습니다.

영국의 변호사 조너선 하커가 트란실바니아의 귀족 ‘드라큘라 백작’과 계약 업무를 위해 성으로 향하면서 시작됩니다. 하커는 성에서 백작의 정체를 ‘흡혈귀’로 확신하게 되고 탈출하지만, 드라큘라는 영국으로 건너가 사람들의 삶을 잠식합니다. 반 헬싱을 중심으로 한 추적자들이 드라큘라의 흔적을 좇으며, “외부에서 침투해 일상을 망가뜨리는 공포”와 “기록(일기/편지/신문)을 통해 진실이 조각조각 드러나는 구조”가 핵심 재미입니다.
`,
      quotes: [
        'Listen to them—the children of the night. What music they make!',
        'We learn from failure, not from success!'
      ]
    },
    interview: {
      title: '뱀파이어와의 인터뷰 (Interview with the Vampire)',
      meta: '닐 조던 · 1994',
      tags: ['고딕','불멸','시대극','아름다움과 혐오'],
      images: ['fiction_img/interview_01.jpg','fiction_img/interview_02.jpg'],
      info:
`이해를 돕는 예시 내용으로, 수정 및 업데이트 될 수 있습니다.

인간이었던 ‘루이’가 ‘레스타트’에게 흡혈귀로 변하며, 끝나지 않는 세월 속에서 욕망·죄책감·사랑(혹은 집착)이 뒤엉킨 관계를 살아갑니다. “흡혈귀가 인간을 어떻게 바라보는가”보다 “불멸이 관계를 어떻게 망가뜨리는가/왜곡하는가”에 초점이 있고, 화려한 고딕 미장센과 감정선이 강한 작품입니다.`,
      quotes: [
        'Evil is a point of view.',
        'The world changes, we do not, therein lies the irony that finally kills us.'
      ]
    }
  };

  let idx = 0;
  let imgs = [];

  function setSlide(i){
    idx = (i + imgs.length) % imgs.length;
    viewport.style.transform = `translateX(${-idx * 100}%)`;
    [...dotsWrap.children].forEach((d, n)=> d.classList.toggle('is-active', n===idx));
  }

  function buildCarousel(imageList){
    imgs = imageList && imageList.length ? imageList : COMMON_IMAGES;
    idx = 0;

    viewport.innerHTML = imgs.map(src =>
      `<div class="fiction-slide" style="background-image:url('${src.replace(/'/g,"%27")}')"></div>`
    ).join('');

    dotsWrap.innerHTML = imgs.map((_, n)=>
      `<button type="button" class="fiction-dot ${n===0?'is-active':''}" aria-label="이미지 ${n+1}"></button>`
    ).join('');

    [...dotsWrap.children].forEach((btn, n)=>{
      btn.addEventListener('click', ()=> setSlide(n));
    });

    setSlide(0);
  }

  function openFiction(key){
    const data = fictionData[key];
    if(!data) return;

    titleEl.textContent = data.title;
    metaEl.textContent  = data.meta;

    tagsEl.innerHTML = (data.tags || []).map(t => `<span class="tag">${t}</span>`).join('');

    infoEl.textContent = data.info || '';
    quotesEl.innerHTML = (data.quotes || []).map(q => `<li>${q}</li>`).join('');

    buildCarousel(data.images);

    modal.classList.add('is-open');
    modal.setAttribute('aria-hidden','false');
    document.body.style.overflow = 'hidden';
  }

  function closeFiction(){
    modal.classList.remove('is-open');
    modal.setAttribute('aria-hidden','true');
    document.body.style.overflow = '';
  }

  // 클릭 연결: sealed-block 제외
  document.querySelectorAll('.archive-card .archive-list li.fiction-tile').forEach(li=>{
    li.addEventListener('click', ()=>{
      openFiction(li.dataset.fiction);
    });
    li.addEventListener('keydown', (e)=>{
      if(e.key === 'Enter' || e.key === ' '){
        e.preventDefault();
        openFiction(li.dataset.fiction);
      }
    });
  });

  prevBtn && prevBtn.addEventListener('click', ()=> setSlide(idx - 1));
  nextBtn && nextBtn.addEventListener('click', ()=> setSlide(idx + 1));

  backdrop && backdrop.addEventListener('click', closeFiction);
  closeBtn && closeBtn.addEventListener('click', closeFiction);
  window.addEventListener('keydown', (e)=>{ if(e.key==='Escape') closeFiction(); });
})();
</script>





</body>
</html>
